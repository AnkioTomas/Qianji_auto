layui.define("form",function(a){let form=layui.form,flag=null;layui.$.prototype.serializeObject=function(){const c={};layui.$.each(this.serializeArray(),function(d,e){if(!(e.name in c)){c[e.name]=e.value}});return c};const b={autoSave:function(e,c,d){flag=setInterval(function(){if(d!==undefined){d.save()}const f=JSON.stringify(layui.$("#"+e).serializeObject());localStorage.setItem(c,f)},1000)},cleanSave:function(c){clearInterval(flag);localStorage.setItem(c,null)},restore:function(e,c,d){let data=JSON.parse(localStorage.getItem(c));if(d!==undefined){d.setValue(data.code)}if(data!=null){form.val(e,data);form.render()}},restoreFromData:function(e,d,c){let res=JSON.parse(d);console.log("数据恢复");if(res!=null){console.log(res);if(c!==undefined){c.setValue(res.code)}form.val(e,res);form.render()}}};a("common",b)});